"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},pokemonRepository=function(){function o(o){console.log(o),h.empty(),_.forEach(function(e){var t=e.pokemonName.includes(o);t&&pokemonRepository.addListItem(e)})}function e(){return s("list data"),fetch(v).then(function(o){if(!o.ok)throw new Error("HTTP error! Status: "+o.status);return o.json()}).then(function(o){o.results.forEach(function(o,e){var n={pokemonID:e,pokemonName:o.name,detailsUrl:o.url};t(n)}),r("list data")}).catch(function(o){console.error(o),r("list data","unsuccessfully")})}function t(o){if("object"!==(void 0===o?"undefined":_typeof(o)))throw new TypeError("This function accepts only a 'pokemon' object as input!!!");d(o,C),_.push(o)}function n(o){var e=$("<li></li>"),t=$("<button></button>"),n=u();e.addClass(["pokemon-list-item","group-list-item"]),o.pokemonID%2==0?e.addClass("pokemon-list-item__transform-1"):e.addClass("pokemon-list-item__transform-2"),e.css("border-color",n),e.on("mouseover",function(){e.css("box-shadow","1px 1px 10px "+n)}),e.on("mouseleave",function(){e.css("box-shadow","1px 1px 10px "+n+"00")}),t.addClass(["pokemon-list-item__btn","btn"]),t.attr("data-toggle","modal"),t.text(o.pokemonName),t.on("click",function(){i(o)}),e.append(t),h.append(e)}function a(o){s("pokemon '"+o.pokemonName+"'");var e=o.detailsUrl;return fetch(e).then(function(o){if(!o.ok)throw new Error("HTTP error! Status: "+o.status);return o.json()}).then(function(e){o.imageUrlFrontDefault=e.sprites.front_default,o.imageUrlBackDefault=e.sprites.back_default,o.pokemonHeight=e.height,o.pokemonWeight=e.weight,o.pokemonTypes=e.types,r("pokemon '"+o.pokemonName+"'")}).catch(function(e){console.error(e),r("pokemon '"+o.pokemonName+"'","unsuccessfully")})}function i(o){o?a(o).then(function(){l(o),console.log(o)}):l()}function s(o){console.log("Loading "+o+" started...")}function r(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"successfully";console.log("Loading "+o+" finished "+e+"...")}function l(o){var e=$(".modal-body"),t=$(".modal-title");if(o){var n=$('<h1 id="bs-modalPokemonLabel"></h1>');n.text(o.pokemonName),n.addClass(["modal-title","fs-5","text-uppercase"]);var a=$("<img>");a.addClass(["modal-img","modal__icon"]),a.attr("src",o.imageUrlFrontDefault);var i=$("<img>");i.addClass(["modal-img","modal__icon"]),i.attr("src",o.imageUrlBackDefault);var s=$("<ul></ul>");s.addClass("list-group");var r=$("<li></li>");r.addClass(["list-group-item","text-center"]),r.html("Height: <b>"+o.pokemonHeight/10+"m</b>"),s.append(r);var l=$("<li></li>");l.addClass(["list-group-item","text-center"]),l.html("Weight: <b>"+o.pokemonWeight/10+"kg</b>"),s.append(l);var m=$("<li></li>");m.addClass(["list-group-item","text-center"]),m.html("Type(s): <b>"+c(o.pokemonTypes)+"</b>"),s.append(m),t.empty(),e.empty(),t.append(n),e.append(a),e.append(i),e.append(s)}else{console.log("nothing");var p=$('<h1 id="bs-modalPokemonLabel"></h1>');p.text("Nothing Found"),p.addClass(["modal-title","text-danger"]);var d=$('<h2 id="bs-modalPokemonLabel"></h2>');d.text("Please try again!"),d.addClass(["text-center","text-info"]),t.empty(),e.empty(),t.append(p),e.append(d)}k.css("display","block"),y.modal("show")}function m(){y.modal("hide"),k.css("display","none")}function c(o){var e="";return o.forEach(function(o){e+=o.type.name.toUpperCase()+", "}),e.slice(0,-2)}function p(o){var e=f().filter(function(e){return e.pokemonName.includes(o)});return e.length>0?"Pokemon "+o+" Exists. (n="+e.length+")":"No Pokemon found with given Pokemon Name: "+o,console.log("Result",e),e[0]}function d(o,e){e.forEach(function(e){if(!1===Object.keys(o).some(function(o){return o===e}))throw new TypeError("The input object must include all required data. Required keys are: "+C)})}function u(){for(var o="#",e=0;e<w;e++)o+=x[Math.floor(Math.random()*x.length)];return o}function f(){return _}var h=$(".pokemon-list"),k=$(".modal-container"),y=$("#bs-modalPokemon"),g=$("#btn-search-pokemon"),b=$("#txt-search-pokemon"),v="https://pokeapi.co/api/v2/pokemon/?limit=100",x="0123456789abcde",w=6,C=["pokemonID","pokemonName","detailsUrl"],_=[];return $(window).on("keydown",function(o){"Escape"===o.code&&"none"!==k.css("display")&&m()}),y.on("hidden.bs.modal",function(){m()}),g.on("click",function(){var o=p(b.val().toLowerCase());o?i(o):i()}),b.on("input",function(){var e=b.val().toLowerCase();e&&o(e)}),{addPokemon:t,getAll:f,loadList:e,addListItem:n,loadDetails:a,searchPokemonByName:p}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(o){pokemonRepository.addListItem(o)})});